import { Plugin } from 'vite';

/**
 * 插件选项
 */
interface Options {
    /**
     * 文档文件所在的根路径
     * @default '/'
     */
    documentRootPath: string;
    /**
     * 是否忽略 index.md 文件
     * @default true
     */
    ignoreIndexItems: boolean;
    /**
     * 忽略的文件列表，支持正则匹配。
     * @default ['README.md', '.DS_Store', 'package.json']
     */
    excludeFiles: (string | RegExp)[];
    /**
     * 忽略的文件夹列表，支持正则匹配。
     * @default ['.vitepress', 'node_modules', 'dist', 'public', '.turbo']
     */
    excludeFolders: (string | RegExp)[];
    /**
     * 是否折叠多级菜单
     * @default true
     */
    collapsed: boolean;
    /**
     * 是否使用 h1 作为侧边栏标题
     * @default false
     */
    useTitleFromFileHeading: boolean;
    /**
     * 是否使用 frontmatter 中的 title 作为侧边栏标题
     * @default false
     */
    useTitleFromFrontmatter: boolean;
    /**
     * 是否使用文件名排序
     * @default false
     */
    useSortFromTitle: boolean;
    /**
     * 是否使用 frontmatter 中的 order 作为排序
     * @default false
     */
    useSortFromFrontmatter: boolean;
    /**
     * 是否使用 frontmatter 中的 date 作为排序
     * @default false
     */
    useSortFromDate: boolean;
    /**
     * 删除标题中的前缀 (支持正则)
     * @default ''
     */
    removeTitlePrefix: string | RegExp;
    /**
     * 排序方式
     * @default 'fileName'
     */
    sortMenusBy: 'fileName' | 'frontmatterOrder' | 'frontmatterDate' | '';
    /**
     * 排序顺序
     * @default 'asc'
     */
    sortMenusOrder: 'asc' | 'desc';
    /**
     * 是否开启 debug 模式
     * @default false
     */
    debugLog: boolean;
}

/**
 * 插件导出
 */
declare function VitePressPluginAutoNavSidebar(opt?: Partial<Options>): Plugin;

export { VitePressPluginAutoNavSidebar as default };
